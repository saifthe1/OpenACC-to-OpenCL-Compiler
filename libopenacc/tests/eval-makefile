
# Tiling space exploration

## Sequential CPU reference for Vector Addition (TODO OpenMP ref)

cpu_ref_02.o: ref_02.c
	$(CXX) $(CFLAGS) $(INCLUDES) -c $? -o $@

cpu_ref_02: cpu_ref_02.o $(OPENACC_LIB_DIR)/utils/timer.o
	$(LD) $(LDFLAGS) -lrt cpu_ref_02.o $(OPENACC_LIB_DIR)/utils/timer.o -o cpu_ref_02

## Versions of kernel descriptors

data_02_v1.o: data_02.c
	$(CC) $(CFLAGS) $(INCLUDES) -DKERNEL_VERSION=1 -DACC_RUNTIME_DIR=\"$(OPENACC_DIR)\" -c $? -o $@

test_02_v1: test_02.o data_02_v1.o $(DEPS)
	$(LD) $(LDFLAGS) $(LIBS) test_02.o data_02_v1.o -o test_02_v1

data_02_v2.o: data_02.c
	$(CC) $(CFLAGS) $(INCLUDES) -DKERNEL_VERSION=2 -DACC_RUNTIME_DIR=\"$(OPENACC_DIR)\" -c $? -o $@

test_02_v2: test_02.o data_02_v2.o $(DEPS)
	$(LD) $(LDFLAGS) $(LIBS) test_02.o data_02_v2.o -o test_02_v2

data_02_v3.o: data_02.c
	$(CC) $(CFLAGS) $(INCLUDES) -DKERNEL_VERSION=3 -DACC_RUNTIME_DIR=\"$(OPENACC_DIR)\" -c $? -o $@

test_02_v3: test_02.o data_02_v3.o $(DEPS)
	$(LD) $(LDFLAGS) $(LIBS) test_02.o data_02_v3.o -o test_02_v3

