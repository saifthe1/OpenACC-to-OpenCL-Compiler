
OPENACC_CFLAGS=-I@abs_top_srcdir@/libopenacc/include
OPENACC_LDFLAGS=-L@abs_top_srcdir@/libopenacc/lib -lopenacc

OPENCL_CFLAGS=-I@opencl_inc_path@
OPENCL_LDFLAGS=-L@opencl_lib_path@ -lOpenCL

SQLITE_CFLAGS=-I@sqlite_inc_path@
SQLITE_LDFLAGS=-L@sqlite_lib_path@ -lsqlite3

LIBOPENACC_DIR=@abs_top_srcdir@/libopenacc
KERNEL_DIR=$(shell pwd)

HOST_DATA_CFLAGS=-DLIBOPENACC_DIR=\"$(LIBOPENACC_DIR)\" -DKERNEL_DIR=\"$(KERNEL_DIR)\"

test-109: host-data.o ../main-109.o
	$(CC) $(OPENACC_LDFLAGS) $(OPENCL_LDFLAGS) $(SQLITE_LDFLAGS) -lrt host-data.o ../main-109.o -o test-109

host-data.o: host-data.c
	$(CC) $(OPENACC_CFLAGS) $(OPENCL_CFLAGS) $(SQLITE_CFLAGS) $(HOST_DATA_CFLAGS) -c host-data.c -o host-data.o

../main-109.o:
	make -f @abs_srcdir@/X09.make -C .. main-109.o

